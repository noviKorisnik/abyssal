<div class="lobby">
  <h2>ABYSSAL</h2>
  
  <ul>
    @for (player of state?.players; track player.userId; let i = $index) {
      <li [class.disconnected]="!player.connected"
          [class.is-current-user]="isCurrentPlayer(player.userId)">
        <div class="player-disc player-{{ i % 4 }}"></div>
        <div class="player-info">
          <span class="player-name">{{ player.playerName || player.userId }}</span>
        </div>
      </li>
    }
  </ul>
  
  @if (state?.ready && countdownSeconds > 0) {
    <app-timer-bar 
      [totalTime]="totalWaitTimeSeconds"
      [remainingTime]="countdownSeconds"
      color="#3399ff"
      label="Starting">
    </app-timer-bar>
  }
  
  <div class="button-container">
    <button (click)="quickStart.emit()" [disabled]="!state?.ready?.quickStartEnabled">Quick Start</button>
    <button (click)="leave.emit()">Leave Room</button>
  </div>
</div>
